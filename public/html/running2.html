<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corrida 360</title>
    <link rel="stylesheet" type="text/css" href="../styles/video.css">
</head>
<body>
    <header>
    		<iframe id="video" width="100%" height="100%" src="https://www.youtube.com/embed/0Mm9yfGRfzw?enablejsapi=1&html5=1&controls=0&showinfo=0&autoplay=1&rel=0" 
    		frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            <div id="rectangle"> 
                <div class="botoes">    
                    <a href="running.html"><button class="button">RETURN</button></a>
                    <button class="button" id="play-button">></button>
                    <button class="button" id="pause-button">||</button>
                    <button class="button" id="stop-button">|></button>
                    <button class="button" onclick="getPlaySpeed()" type="button">V</button>
                    <div class="botoes2"> 
                        <button class="button" onclick="setPlayLento()" type="button">0.5x</button><br> 
                        <button class="button" onclick="setPlayRapido()" type="button">1.5x</button><br> 
                        <button class="button" onclick="setPlayNormal()" type="button">1.0x</button><br> 
                        <a href="running3.html"><button class="button">>></button></a>
                    </div>
                </div>
            </div>
            <script>
                //Injetar script da API do YouTube
                var tag = document.createElement('script');
                tag.src = "https://www.youtube.com/player_api";
                var firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
                //Variável global
                var player;
                //Essa função é chamada quando a API está pronta para uso
                function onYouTubePlayerAPIReady() {
                    //crie o player global a partir do iframe específico (#video)
                    player = new YT.Player('video', {
                        events: {
                            //Chame esta função quando o player estiver pronto para usar
                            'onReady': onPlayerReady
                        }
                    });
                }
                function onPlayerReady(event) {
                    //Eventos de ligação
                    var playButton = document.getElementById("play-button");
                    playButton.addEventListener("click", function() {
                        player.playVideo();
                    });
                    var pauseButton = document.getElementById("pause-button");
                    pauseButton.addEventListener("click", function() {
                        player.pauseVideo();
                    });
                    var stopButton = document.getElementById("stop-button");
                    stopButton.addEventListener("click", function() {
                        player.stopVideo();
                    });
                }
                    function getPlaySpeed() {   
                        alert(player.getPlaybackRate());
                        console.log(player.getPlaybackRate()); 
                    } 
                    function setPlayLento() { 
                        let playRate = player.getPlaybackRate() > 0.5? player.getPlaybackRate()/2:  0.5; 
                        player.setPlaybackRate(playRate);
                    } 
                    function setPlayRapido(){
                        let playRate =  player.getPlaybackRate()+0.5; 
                        player.setPlaybackRate(playRate);
                    }
                    function setPlayNormal(){
                        let playRate = 1.0;
                        player.setPlaybackRate(playRate);
                    }
            </script>
        </header>
</body>
</html>